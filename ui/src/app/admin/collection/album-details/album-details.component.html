<div *ngIf="album | async; let album; else loading">
  <h2>{{album.name}}</h2>

  <p>
    TODO add share button, add photo upload, add selectable photos and add ability to reorder/remove from album/pick cover photo/delete
  </p>
  <div>
    <button (click)="delete(album)">Delete</button>
  </div>

  <app-photo-upload [collection]="collection" [album]="album"></app-photo-upload>

  <app-photo-selection #selection></app-photo-selection>

  <p>TODO here we want a component like photostream... but photostream has too much internal logic...
    we kinda want a dumb presentation component that just gets an observable of photos and emits events
    when scrolled to the end... maybe another component that listens and loads the photos?</p>


  <ng-container *ngFor="let photo of photos">
    <app-selectable-photo-container [photo]="photo" [selected]="selection.isSelected(photo)" (change)="selection.onPhotoSelect($event)">
      <photo-thumbnail [photo]="photo" [collection]="collection" [renditionConfiguration]="thumbnailRendition" (clicked)="onPhotoClicked($event)"></photo-thumbnail>
      <photo-detail-link [photo]="photo" [collection]="collection">details</photo-detail-link>
    </app-selectable-photo-container>
    <button (click)="setCoverPhoto(album, photo)">make cover photo</button>
  </ng-container>


</div>
<ng-template #loading>Loading...</ng-template>
